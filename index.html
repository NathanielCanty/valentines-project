<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine's</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <div>
            <h1 class="header_text">Will you be my Valentine??</h1>
        </div>
        <div class="gif_container">
            <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExaW1rbnRvbDA2aDdtaGp0aGVoOTczbTNvMDh5NzIzaml3aDcyOWRqcyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/UBFYx0fwzMbg1huW6h/giphy.gif" alt="gif">
        </div>
        <div class="buttons">
            <audio id="popSound" src="audios/pop.mp3"></audio>
            <audio id="woosh" src="audios/woosh.mp3"></audio>
            <button class="btn" id="yesButton" onclick="playPopSoundAndNavigate()">Yes</button>
            <button class="btn" id="noButton" onclick="moveButton()" onmouseover="moveButton()">No</button>
        </div>
        <script>
            function playPopSoundAndNavigate() {
                let sound = document.getElementById("popSound");
        
                // Play sound
                sound.play();

                // Wait until the sound ends, then navigate
                sound.onended = function() {
                    window.location.href = "yes.html";
                };
            }

            function moveButton(){
                var button = document.getElementById('noButton');
                var maxX = window.innerWidth - button.offsetWidth - 20;
                var maxY = window.innerHeight - button.offsetHeight - 20;

                var x = Math.random() * maxX;
                var y = Math.random() * maxY;

                button.style.left = `${x}px`;
                button.style.top = `${y}px`;

                let sound = document.getElementById("woosh");
                sound.currentTime = 0;
                sound.play().catch(error => console.log("Audio play blocked:", error));
            }
        </script>
    </div>
</body>
</html>